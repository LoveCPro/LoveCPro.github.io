---
layout:     post
title:      fgetc()函数的返回值
#subtitle:    "\"Hello World, Hello Blog\""
date:       2019-03-08
author:     Dandan
header-img: img/post-bg-cook.jpg
catalog: true
tags:
    - C程序技术
---

# C语言中fgetc()函数的返回值

函数原型：
```
    FILE *fp;
    fgetc(fp);
```
返回值：读取成功返回读取的字节数，当读取到文件的末尾返回EOF；

EOF  ： 是一个宏，C中宏定义  #define EOF -1；

为什么不直接返回-1，而是返回EOF呢？
既然返回的是一个字节，为什么返回值确用4字节的int表示，不用unsigned char这1个字节类型表示,或直接

用char类型表示哪？

原因就是出在返回值要能表示-1.unsigned char表示无符号的，而这返回值，需要是-1才可以表示文件

读到末尾了，那可以char类型表示-1，但是-1在char类型中表示的值为0xff,然而它本身就是一个字节的内

容，如果文件中的一个字节是0xff,难道就认为文件结束，这是不合理的，用int作返回值，就不会出现这个问

题，-1用int表示为0xffffffff;而字节值如果0xff这它返回的int值就会是0x000000ff,这样就可以区别开字节值为

0xff和文件结束标识EOF.

注：EOF只是为了标识已经读到文件末尾，它并不是一个存储在文件中的字节。

因此，我们在写程序时就不能写如下的代码：
```
#include<stdio.h> 
void main() 
{ 
　　FILE *fp; 
　　int c; //这次有误，应该修改为char c;
　　fp=fopen("exist","r"); 
　　while((c=fgetc(fp))!=EOF)//应该改为while(fgetc(fp) != EOF) 
　　printf("%c",c); 
　　fclose(fp); 
}
```

